Задание на зачёт по НИР
Разработка СУБД и проведение исследований
Требования
	Требуется написать программу на Python и провести исследования.
	Для получения зачёта требуется выполнить все задания и подзадания! Поэтому обязательно внимательно читайте задания, постоянно обращайтесь к ТЗ и перечитывайте его, так как во время сдачи решений довольно часто от студентов слышно: «Я не заметил этот пункт», «Я забыл реализовать…».
	Проект должен быть написан самостоятельно (в противном случае 0 баллов как списавшему, так и давшему списать; при использовании нейронок просто 0 баллов).
Задание
В качестве СУБД можно использовать MS SQL Server, MySQL, PostgreSQL. SQLite использовать нельзя.
База данных берется из курса ТБД (при необходимости создаются дополнительные таблицы).
У двух студентов не должно быть одинаковых баз данных и таблиц.
В базе данных
	должна быть как минимум одна связь
	один ко одному,
	один ко многим,
	многие ко многим.
Если у вас нет таблиц, которые удовлетворяют этим требованиям, их нужно создать с добавлением PK и FK.
	в таблицах должны быть использованы три типа данных: числа, строки и даты.
Если у вас нет удовлетворяющих этому требованию полей, тогда нужно добавить в произвольную таблицу столбец с недостающим типом данных.
Проект необходимо разделить на три части/папки:
lib – здесь код, который нужно исследовать;
tests – в этом модуле должны находиться файлы с тестами (тесты не обязаны быть автоматизированными, достаточно наличие такого кода, который после запуска позволит вам определить наличие ошибок в коде из lib). Естественно, весь код перед проведением исследования должен быть тщательно протестирован;
investigations – в этом каталоге необходимо разместить код, который позволяет производить исследования кода из lib.
Написать вспомогательные функции/классы.
Написать функцию(и)/класс(ы) для создания всех ваших таблиц.
Написать функцию(и)/класс(ы) для генерации n строк данных для таблиц. При генерации должны учитываться все ограничения из предметной области, например, ФИО должно состоять из трех слов, возраст должен быть положительным и тому подобное. Должна быть возможность генерации для любой из ваших таблиц.
Написать функцию(и)/класс(ы) для создания «песочницы» – копии базы данных и схемы таблиц. Песочница используется для проведения исследований, чтобы не портить имеющиеся данные в БД.
Написать функцию(и)/класс(ы) для сохранения сгенерированных данных в таблицы.
Написать функцию(и)/класс(ы) для удаления/замены всех данных из любой из ваших таблиц.
Написать функцию(и)/класс(ы) для сохранения данных из таблиц с последующей возможностью восстановления, то есть бэкап и восстановление бэкапа.
Все функции/классы должны выполнять коммит/закрытие соединения автоматически, в том числе, при возникновении исключения. При необходимости написать собственные контекстные менеджеры (тема 3). Пример
con = sqlite3.connect("tutorial.db")
con.close() # это закрытие вручную!
Написать код, который будет измерять время выполнения произвольного запроса(ов) к БД. Для измерения времени нужно использовать либо функцию timeit, либо repeat из модуля timeit. Измерять вручную наподобие
start = time()
# код для измерения
end = time()
нельзя.
Создать вспомогательную функцию/класс для построения графиков с помощью matplotlib. Должна быть возможность сохранения полученного графика в виде векторного и/или растрового изображения на диске. Сам график должен иметь название, каждая ось должна быть подписана. В создаваемых графиках вне зависимости от количества каждый ряд (т.е. отдельная линия на графике) должен иметь
	разный цвет,
	разный тип линии (например, сплошной, пунктирный, …),
	разные маркеры (например, круг, квадрат, …; должны появляться лишь при количестве строимых точек < 10),
	легенду.
Пример графика (сделано в Excel).
 
Провести исследования.
Код в исследованиях должен быть написан таким образом, чтобы можно было
	быстро запустить код (т.е. чтобы не нужно было делать ничего вручную),
	быстро поменять параметры исследования (таблицы, запросы, размеры столбцов и т.п.).
Построить графики времени генерации данных для каждой из ваших таблиц в зависимости от количества строк в таблице. Данные в таблицы не сохраняются.
	По оси OX откладывается количество генерируемых строк, по OY – время.
	Обязательно исследовать время генерации данных для связанных с помощью FK таблиц. В этом случае, очевидно, нужно генерировать данные для обеих таблиц. Замеряется общее время генерации данных для обеих таблиц.
Построить графики времени выполнения запросов. Для каждой таблицы (не считая вспомогательных для создания связи многие ко многим) должно быть не менее трёх запросов (SELECT, INSERT, DELETE), время исполнения которого вы должны измерить.
	Вы самостоятельно выбираете, какие запросы исследовать, что исключает одинаковую работу у студентов.
	По оси OX откладывается количество запрашиваемых/вставляемых/удаляемых строк, по OY – время.
	Запросы не должны повторяться, например, к одной таблице выполняете запрос «SELECT *», к другой – «SELECT … WHERE a=b;».
	Для каждого запроса должен быть построен отдельный график.
	Время генерации данных не должно учитываться.
	Для каждой связи должен быть запрос на объединение таблиц, время выполнения которого вы должны замерить;
Пример одного графика (в Excel)
 
Исследовать эффективность использования индексов. Далее в качестве таблиц Ti нужно использовать ваши существующие таблицы из БД.
Взять таблицу Т1 с первичным числовым ключом (если нет такой, то создать первичный ключ на числовой столбец). Скопировать эту таблицу, создав таблицу Т2, в которой нет первичного ключа.
	На одном графике исследовать время выполнения SELECT по первичному ключу для Т1 и Т2 в зависимости от количества строк в таблице.
	один запрос на равенство (например, WHERE id=n)
	один запрос на неравенство (например, WHERE id<n).
Каждый пункт на отдельном графике.
	На одном графике исследовать время выполнения INSERT для Т1 и Т2 в зависимости от количества вставляемых строк.
Взять в БД вашу существующую таблицу Т3, в которой есть строковой столбец. Добавить к нему строковый индекс (не первичный ключ). Скопировать эту таблицу, создав таблицу Т4, в которой нет индекса.
	На одном графике исследовать время выполнения SELECT с условием WHERE на столбец с индексом для Т3 и Т4 в зависимости от количества строк в таблице.
	один запрос на равенство (например, WHERE name=”Bob”)
	один запрос на совпадение строки c началом строки в БД (с помощью LIKE).
	один запрос на содержание строки в произвольной позиции строки в БД (с помощью LIKE).
Каждый пункт на отдельном графике.
	На одном графике исследовать время выполнения INSERT для Т3 и Т4 в зависимости от количества вставляемых строк.
Взять в БД вашу существующую таблицу Т5, в которой есть строковой столбец (значения столбца – текст, состоящий из слов). Добавить к нему полнотекстовый индекс (не первичный ключ). Скопировать эту таблицу, создав таблицу Т6, в которой нет индекса. 
	На одном графике исследовать время выполнения SELECT с условием WHERE на столбец с индексом для Т5 и Т6 в зависимости от количества строк в таблице.
	один запрос на поиск одного слова
	один запрос на поиск нескольких слов
Каждый пункт на отдельном графике.
	На одном графике исследовать время выполнения INSERT для Т5 и Т6 в зависимости от количества вставляемых строк.
Разработать свою СУБД со следующими возможностями.
Данные таблицы должны храниться в двоичном виде.
	Необходимо придумать такой способ хранения данных таблицы, который позволит быстро вытаскивать произвольную строку БД и столбец из конкретной строки.
	Таблицы можно хранить в отдельном файле. 
	Схему таблицы можно хранить в отдельном файле.
СУБД должна обрабатывать SQL-запросы вида 
	CREATE TABLE с двумя типами столбцов (числовой положительный INT, который не превосходит 2^64, и строковый VARCHAR(n), длина которого не больше, чем n).
	SELECT
	Разные столбцы
	SELECT * FROM table_name
	SELECT col_name1, col_name2 FROM table_name
	Условие WHERE на равенство одного столбца конкретному значению
	SELECT … WHERE int_col_name = 1
	SELECT … WHERE str_col_name = "hello"
	INSERT
	DELETE
	Удаление всех данных в таблице
	DELETE *
	Удаление только записей, столбец которых равен конкретному значению
	DELETE … WHERE int_col_name = 1
Придумать свой способ реализации индексов на числовые столбцы вашей СУБД. Реализовать индексы на числовые столбцы и добавить возможность создания индексов на числовые столбцы для эффективного поиска «WHERE int_col_name = 1».
	Данные для индексов можно хранить в отдельном файле.
Построить графики скорости работы запросов SELECT WHERE и DELETE WHERE
	Для строкового столбца
	Для числового столбца
Построить график скорости работы запроса INSERT.
Исследовать эффективность вашего алгоритма индексирования как в прошлом задании:
	Сравнить скорость работы SELECT и INSERT для двух таблиц: с индексом и без.
